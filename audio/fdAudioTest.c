/* ----------------------------------------------------------------------------
 * fdTest.c -- file descriptor test with read/write
 * ----------------------------------------------------------------------------
 *
 * (c) 1997 STS AG, Zuerich, Switzerland.
 *
 * ----------------------------------------------------------------------------
 *
 * Status : Release 1.0
 *
 * ----------------------------------------------------------------------------
 * Description
 *
 *
 *
 */

/*-----------------------------------------------------------------------------
 * INCLUDES
 *-----------------------------------------------------------------------------
 */

/* System includes */
/*******************/

#include <stdio.h>
#include <sys/file.h>
#include <fcntl.h>

/* Local Includes */
/******************/

/* ----------------------------------------------------------------------------
 * LOCAL DEFINES
 * ----------------------------------------------------------------------------
 */

#define	LINELEN		1000

/* ----------------------------------------------------------------------------
 * LOCAL TYPES
 * ----------------------------------------------------------------------------
 */

/* ----------------------------------------------------------------------------
 * GLOBAL VARIABLES
 * ----------------------------------------------------------------------------
 */

extern int	errno;
extern char	*sys_errlist[];

/* ----------------------------------------------------------------------------
 * LOCAL VARIABLES
 * ----------------------------------------------------------------------------
 */  

/* ----------------------------------------------------------------------------
 * LOCAL FUNCTIONS (DECLARATIONS)
 * ----------------------------------------------------------------------------
 */

/* ----------------------------------------------------------------------------
 * LOCAL FUNCTIONS (BODIES)
 * ----------------------------------------------------------------------------
 */


/*------------------------------------------------------------------------
 * main - TCP client for ECHO service
 *------------------------------------------------------------------------
 */
int
main(argc, argv)
int	argc;
char	*argv[];

{
	int audioFd;
	int fileFd;

	char buf[1000];
	int n;

	audioFd = creat("/floppy/floppy0/test.au", 0777);
	fileFd = open("test.au", O_RDONLY, 0);
	
	printf("/dev/audio = %d / test.au = %d\n\n", 
		audioFd, fileFd);
			
	while ((n = read(fileFd, buf, 100)) > 0) {

		write(audioFd, buf, n);

	}
}

